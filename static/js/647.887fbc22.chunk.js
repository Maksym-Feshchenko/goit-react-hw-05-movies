"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[647],{242:function(e,t,n){n.d(t,{Fn:function(){return i},_n:function(){return s},wr:function(){return f},yA:function(){return o}});var r=n(861),a=n(757),c=n.n(a),s="https://api.themoviedb.org/3",i="56a1158049e37c9be6acff13320da327",o="https://image.tmdb.org/t/p/w500";function u(){return l.apply(this,arguments)}function l(){return l=(0,r.Z)(c().mark((function e(){var t,n,r,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,n);case 4:if(!(r=e.sent).ok){e.next=11;break}return e.next=8,r.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not fond"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function f(){return u("".concat(s,"/trending/all/day?api_key=").concat(i))}},647:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r=n(861),a=n(439),c=n(757),s=n.n(c),i=n(791),o=n(689),u=n(242),l=n(184),f=function(){var e=(0,o.UO)().movieId,t=(0,i.useState)([]),n=(0,a.Z)(t,2),c=n[0],f=n[1];return(0,i.useEffect)((function(){var t=function(){var t=(0,r.Z)(s().mark((function t(){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(u._n,"/movie/").concat(e,"/credits?api_key=").concat(u.Fn,"&language=en-US"));case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,f(r.cast),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("Error getting cast information:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),(0,l.jsx)("div",{className:"fontSizeDet",children:(0,l.jsx)("ul",{className:"castList",children:c.map((function(e){return(0,l.jsxs)("li",{className:"castItem",children:[(0,l.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(e.profile_path),alt:e.name,className:"actorImage"}),(0,l.jsxs)("div",{className:"actorDetails",children:[(0,l.jsx)("h3",{className:"actorName",children:e.name}),(0,l.jsx)("p",{className:"characterName",children:e.character})]})]},e.id)}))})})},d=function(){var e=(0,o.UO)().movieId,t=(0,i.useState)([]),n=(0,a.Z)(t,2),c=n[0],f=n[1];return(0,i.useEffect)((function(){var t=function(){var t=(0,r.Z)(s().mark((function t(){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(u._n,"/movie/").concat(e,"/reviews?api_key=").concat(u.Fn,"&language=en-US"));case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,f(r.results),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("Error getting reviews:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),(0,l.jsx)("div",{className:"fontSizeDet",children:(0,l.jsx)("ul",{className:"reviewList",children:c.map((function(e){return(0,l.jsxs)("li",{className:"reviewItem",children:[(0,l.jsxs)("h4",{children:[" * ",e.author]}),(0,l.jsxs)("p",{children:[" \u2219 ",e.content]})]},e.id)}))})})},h=function(){var e=(0,o.UO)().movieId,t=(0,i.useState)(null),n=(0,a.Z)(t,2),c=n[0],u=n[1],h=(0,i.useState)(!0),v=(0,a.Z)(h,2),p=v[0],m=v[1],x=(0,i.useState)(!1),j=(0,a.Z)(x,2),g=j[0],w=j[1],k=(0,i.useState)(!1),b=(0,a.Z)(k,2),N=b[0],_=b[1];if((0,i.useEffect)((function(){var t=function(){var t=(0,r.Z)(s().mark((function t(){var n,r,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"56a1158049e37c9be6acff13320da327",n="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat("56a1158049e37c9be6acff13320da327"),t.next=5,fetch(n);case 5:return r=t.sent,t.next=8,r.json();case 8:a=t.sent,u(a),m(!1),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log("Failed to fetch movie details:",t.t0),m(!1);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),p)return(0,l.jsx)("div",{children:"Loading..."});if(!c)return(0,l.jsx)("div",{children:"Failed to fetch movie details."});return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"movieDetailsCard",children:[(0,l.jsx)("h1",{children:c.title}),(0,l.jsx)("img",{src:"https://image.tmdb.org/t/p/w200/".concat(c.poster_path),alt:c.title}),(0,l.jsxs)("p",{children:["Ganres: ",c.genres.map((function(e){return e.name})).join(", ")]}),(0,l.jsxs)("p",{children:["Overview: ",c.overview]}),(0,l.jsxs)("p",{children:["User score: ",c.vote_average.toFixed(1),"/10"]}),(0,l.jsxs)("p",{children:["Release Date: ",c.release_date]})]}),(0,l.jsxs)("ul",{children:[(0,l.jsxs)("li",{className:"list",children:[(0,l.jsx)("button",{onClick:function(){w(!g)},className:"button",children:"Cast"}),g&&(0,l.jsx)(f,{movieId:e})]}),(0,l.jsxs)("li",{className:"list",children:[(0,l.jsx)("button",{onClick:function(){_(!N)},className:"button",children:"Reviews"}),N&&(0,l.jsx)(d,{movieId:e})]})]})]})}},861:function(e,t,n){function r(e,t,n,r,a,c,s){try{var i=e[c](s),o=i.value}catch(u){return void n(u)}i.done?t(o):Promise.resolve(o).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,c){var s=e.apply(t,n);function i(e){r(s,a,c,i,o,"next",e)}function o(e){r(s,a,c,i,o,"throw",e)}i(void 0)}))}}n.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=647.887fbc22.chunk.js.map